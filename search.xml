<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>部署minecraft服务器</title>
      <link href="/2024/04/04/%E5%BC%80%E8%AE%BEminecraft%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2024/04/04/%E5%BC%80%E8%AE%BEminecraft%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1>部署开始前</h1><p>其实mc开服是个很简单的操作，很容易就能学会。</p><h2 id="准备">准备</h2><h3 id="一颗炙热的心">一颗炙热的心</h3><blockquote><p>“耐心是高尚的秉性，坚韧是伟大的气质。 无论何人，若是失去耐心，便失去了灵魂”——培根。</p></blockquote><p>“每件事都需要有足够的耐心，才能获得成功。</p><h3 id="硬件">硬件</h3><p>能够运行服务器的方式有很多，面板，云服务器等等皆可，对于使用面板的读者，相信面板提供商会提供指导服务，不需要阅读此文章，那么本文将讲述如何在“云服务器”这一系列机器上开设服务器。对机器的需求取决于开的是个什么服务器，如果是朋友间联机，那根本不需要机器，自己的主机就能开，甚至可以用树莓派，但对于需要长时间运行的人来说，我们并不能使用消费级主机，需要专门组一台机器，或者去云服务器厂商购买主机。对于纯净服，不需要太高的配置，但是对于模组甚至是群组服，就需要注意配置的问题，这里的配置是指cpu，内存，宽带，单服一般不需要过多核心的cpu，内存尽量在一定范围内的多，宽带依人数而定，请注意，Mc非常吃单核性能，请优先选择单核性能强的机器。</p><h3 id="操作系统">操作系统</h3><p>操作系统有多种，如linux，Windows，Ubuntu等，本文将以Ubuntu与Windows为例，系统安装不在本文阐述。</p><h3 id="环境">环境</h3><p>在部署服务器前，我们需要部署Java</p><h4 id="Ubuntu">Ubuntu</h4><h5 id="镜像源更换">镜像源更换</h5><p>由于默认源可能很慢，所以我们要在此更换镜像源</p><p>右键我们电脑的windows徽标，使用以下命令链接服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh 用户名@服务器公网ip</span><br></pre></td></tr></table></figure><p><img src="https://api.aowudalu.cn/2024/04/05/660ff5fa3b02f.png" alt="Login"></p><p>如遇<code>无法打开锁文件</code>的问题，请按下述步骤提升权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br><span class="line">su</span><br></pre></td></tr></table></figure><p>我们使用vim编辑软件源文件，您将看到类似以下的界面，进入后，<code>请不要乱动</code>：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p><img src="https://api.aowudalu.cn/2024/04/05/660ff76d5c354.png" alt="vim"></p><p>我们先依次按下999dd，此时文件应当清空。接下来，按下i，开始编辑。<br>粘贴以下内容。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><p>然后按ESC，然后输入**:wq，回车，使用以下命令更新列表。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></table></figure><h5 id="Java部署">Java部署</h5><p>请检查将开设服务器的版本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt search openjdk</span><br></pre></td></tr></table></figure><p>若我们将开设1.16及之前版本，需要安装Java8</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install openjdk-8-jdk -y</span><br></pre></td></tr></table></figure><p>若我们将开设1.17及以上版本，需要Java17或更高版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install openjdk-17-jdk -y</span><br></pre></td></tr></table></figure><p>安装完毕后使用此命令以检查是否成功安装，安装成功后，应当会反馈版本信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h4 id="Windows">Windows</h4><p>首先下载java安装包<a href="https://www.oracle.com/cn/java/technologies/downloads/">java</a><br>一般选择“x64 Installer”即可，一路根据安装程序安装，记住java位置。<br>安装完毕后使用此命令以检查是否成功安装，安装成功后，应当会反馈版本信息，若提示“不是内部命令”，请尝试重启，若依旧提示，请配置环境变量，或记下安装目录在后文使用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h1>完成部署</h1><p>至此，我们已经完成了所有前置步骤，接下来我们将正式开始部署mc服务器。</p><h2 id="服务器核心选择">服务器核心选择</h2><p>对于不同的服务器走向，有不同的核心选择，以下为几种常见的核心，选择好服务端后，复制对应的jar直链。</p><table><thead><tr><th>核心</th><th>版本</th><th>内容</th></tr></thead><tbody><tr><td><a href="https://papermc.io/downloads/all">PaperSpigot</a></td><td>1.8.8-最新</td><td>支持 CraftBukkit 和 Spigot 插件</td></tr><tr><td><a href="https://mohistmc.com/downloadSoftware?project=mohist&amp;projectVersion=1.20.1">Mohist</a></td><td>1.7.10-最新</td><td>支持 Forge mod 和 Paper 系列插件</td></tr><tr><td><a href="https://catmc.org/">Catserver</a></td><td>1.12.2,1.18.2,1.16.5</td><td>支持 Forge mod 和 Paper 系列插件</td></tr><tr><td><a href="https://www.minecraft.net/zh-hans/download/server">Minecraft Server</a></td><td>all</td><td>原版</td></tr><tr><td><a href="https://www.minecraft.net/en-us/download/server/bedrock">Bedrock Server</a></td><td>all（基岩版）</td><td>原版</td></tr><tr><td><a href="https://ci.md-5.net/job/BungeeCord/">BungeeCord</a></td><td>all</td><td>代理端，用于群组服</td></tr><tr><td><a href="https://getbukkit.org/download/spigot/">Spigot</a></td><td>1.4.6-最新</td><td>支持Bukkit 和 Spigot 插件</td></tr><tr><td><a href="https://spongepowered.org/downloads/spongeforge">Sponge Forge</a></td><td>1.8-1.19.4</td><td>支持 Forge mod 和 部分插件</td></tr><tr><td><a href="https://papermc.io/downloads/velocity">Velocity</a></td><td>all</td><td>代理端，用于群组服</td></tr></tbody></table><h3 id="Ubuntu-2">Ubuntu</h3><p>使用以下命令，创建一个名为&quot;mcserver&quot;的文件夹，此条目可以依据喜好修改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> mcserver</span><br><span class="line"><span class="built_in">cd</span> mcserver</span><br></pre></td></tr></table></figure><p>下载核心到服务端上</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget 刚刚复制的链接</span><br></pre></td></tr></table></figure><p><img src="https://api.aowudalu.cn/2024/04/05/660ffb3b1d2ca.png" alt="wget"><br>核心就部署好了!</p><h3 id="Windows-2">Windows</h3><p>下载对应的核心后，随便拖到一个空文件夹就可以使用了。<br><img src="https://api.aowudalu.cn/2024/04/05/660ffbb45de96.png" alt="win"></p><h2 id="Mc-启动">Mc,启动!</h2><h3 id="Ubuntu-3">Ubuntu</h3><p>使用此命令启动服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar server.jar nogui</span><br></pre></td></tr></table></figure><p>启动会在这样的反馈下停止,我们需要使用以下命令同意Eula条款。<br><img src="https://api.aowudalu.cn/2024/04/05/660ffd00348a8.png" alt="stop"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim eula.txt</span><br></pre></td></tr></table></figure><p>将其中的false修改为true<br><img src="https://api.aowudalu.cn/2024/04/05/660ffd8b6dd6a.png" alt="eula"><br>完成后再次运行启动命令，完成!<br><img src="https://api.aowudalu.cn/2024/04/05/661002acce17d.png" alt="done"><br><img src="https://api.aowudalu.cn/2024/04/05/661002a6c4354.png" alt="client"></p><h3 id="Windows-3">Windows</h3><p>在jar文件目录下新建一个文本文档修改后缀名为.bat<br><img src="https://api.aowudalu.cn/2024/04/05/6610073a757e1.png" alt="winp"><br>右键编辑，填入以下内容,若运行后提示未知命令，则修改下文中java为&quot;前文安装时所复制bin目录/java.exe&quot;(注意引号)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java -jar server.jar nogui</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><p>其余步骤同Ubuntu的安装方法，在此不再重复阐述。</p><h2 id="进阶">进阶</h2><h3 id="Ubuntu-screen">Ubuntu screen</h3><p>前面的步骤中，操作慢的同学可能发现连接超时了，那么当我们成功开服后还能回到后台吗？答案是不能，如果你不幸遇到了这种情况，请这样操作来先把服务端杀掉：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep java</span><br><span class="line">kill 查到的PID</span><br></pre></td></tr></table></figure><p>接下来我们创建一个sceen，并把后面的内容作为他的名字</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -S 一个名字</span><br></pre></td></tr></table></figure><p>进入sceen后我们再启动服务器，如遇到上述情况,输入以下内容以回到后台</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -r 那个名字</span><br></pre></td></tr></table></figure><h3 id="自定义域名">自定义域名</h3><p>本文中不讲述如何购买域名。<br>打开dns解析页面，按如下操作配置，接下来，可以在游戏中使用该域名进入游戏了<br><img src="https://api.aowudalu.cn/2024/04/05/66100c0c0a890.png" alt="dns"></p><h3 id="开整合包">开整合包</h3><p>本来mcbbs还在的时候能更简单的，可惜。前文提到的是最基础的服务器部署，其他核心也可以照葫芦画瓢跑起来。找到心仪的整合包，通常，整合包会有server包,如下，直接下载启动内容即可。<br><img src="https://api.aowudalu.cn/2024/04/05/66100da3d6a1d.png" alt="serverbag"><br>若没有server包，则安装对应的整合包到客户端，将.minecraft目录下的文件(未启动版本隔离)全部拖到核心文件夹，选择适合的核心即可，若崩溃，请删除造成原因的mod。<br>许多整合包都来自国外，因此，汉化成为一个很重要的操作，对于大多数知名整合包通常有汉化，请去网上找，解压后拖入服务端文件夹及客户端文件夹。</p><h3 id="server-properties注解">server.properties注解</h3><p>spawn-protection=16 出生点保护半径(若没有op则不生效)<br>max-tick-time=60000 设置每个tick花费的最大毫秒数<br>query.port=25565 设置监听服务器的端口号<br>generator-settings= 用于自定义超平坦世界的生成<br>force-gamemode=false 玩家加入服务器时强制变成默认游戏模式<br>allow-nether=true 是否开启地狱世界(关闭后删除将不会生成地狱世界)<br>enforce-whitelist=false 在服务器上强制执行白名单。<br>gamemode=survival 设置玩家的游戏模式<br>broadcast-console-to-ops=true *给op发送控制台信息?<br>enable-query=false 是否开启GameSpy4协议服务器监听器，用于获取服务器信息，建议不要修改<br>player-idle-timeout=0 当进入AFK模式,在规定时间内T出服务器,设置成0为不T出服务器<br>difficulty=easy 设置游戏的难度（peaceful(0)=和平，easy(1)=简单，normal(2)=普通，hard(3)=困难）<br>broadcast-rcon-to-ops=true *允许远程连接控制台给op发送信息?<br>spawn-monsters=true 是否生成怪物<br>op-permission-level=4 设定OP的权限等级<br>pvp=true是否可以打架<br>snooper-enabled=true一旦启用，将允许服务端定期发送统计数据<br>hardcore=false 极限模式（启用后，玩家死后会被服务器封禁）。<br>enable-command-block=false 是否启用命令方块<br>network-compression-threshold=256 默认会允许n-1字节的数据包正常发送, 如果数据包为 n 字节或更大时会进行压缩。所以，更低的数值会使得更多的数据包被压缩，但是如果被压缩的数据包字节太小将会得不偿失。<br>max-players=20 最大玩家数<br>max-world-size=29999984 设置世界边界的最大半径值，单位为方块。通过成功执行的命令能把世界边界设置更大，<br>resource-pack-sha1= 资源包的SHA-1值，必须为小写十六进制<br>function-permission-level=2 用于控制函数拥有的权限等级。<br>server-port=25565 设置服务器的IPv4端口号<br>server-ip= 将服务器与一个特定IP绑定。建议留空<br>spawn-npcs=true 决定是否生成村民<br>allow-flight=false 允许玩家在安装添加飞行功能的mod前提下在生存模式下飞行。<br>level-name=world 主世界名称<br>view-distance=10 设置服务端传送给客户端的区块量 (范围3-15) <br>resource-pack= 可输入指向一个资源包的URI。玩家可选择是否使用该资源包<br>spawn-animals=true 动物是否可以生成<br>white-list=false 服务器的白名单，OP无须加入白名单<br>rcon.password= 远程访问密码<br>generate-structures=true 定义是否在生成世界时生成结构（如村庄）<br>online-mode=true 线上模式是否开启 (即正版模式)<br>max-build-height=256 玩家在游戏中能够建造的最大高度<br>level-seed= 世界种子<br>motd=A Minecraft Server 玩家客户端的多人游戏服务器列表中显示的服务器信息，显示于名称下方。<br>enable-rcon=false 是否允许远程访问服务器控制台。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo可视化在线编辑</title>
      <link href="/2024/04/01/hello-world/"/>
      <url>/2024/04/01/hello-world/</url>
      
        <content type="html"><![CDATA[<p>虽然说是静态网站，但是没有后台真的很难受，但是谁不想要一个在线的写文章的呢，所以今天介绍这个hexo-admin</p><h2 id="安装">安装</h2><h3 id="获取hexo">获取hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br><span class="line"><span class="built_in">cd</span> ~/</span><br><span class="line">hexo init my-blog</span><br><span class="line"><span class="built_in">cd</span> my-blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="安装hexo-admin">安装hexo-admin</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br><span class="line">hexo server -d</span><br></pre></td></tr></table></figure><h2 id="尽情享受吧">尽情享受吧</h2><p>所有工作都做完了，现在可以开始写您的第一篇文章了。</p><h3 id="打开http-localhost-4000-admin">打开<a href="http://localhost:4000/admin/">http://localhost:4000/admin/</a></h3>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
